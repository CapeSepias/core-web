<div class="grid" [ngGrid]="gridConfig" (onDragStop)="updateModel()" (onResizeStop)="updateModel()">
    <div
        class="box__add-row-class-button"
        *ngFor="let rowClass of grid.getAllRowClass(); let i = index"
        [ngStyle]="{ 'top.px': i ? (206 + 8) * i : 0 }"
    >
        <dot-icon-button-tooltip
            tooltipText="Add CSS Class To Row"
            (click)="addRowClass(i)"
            icon="more_horiz"
        >
        </dot-icon-button-tooltip>
    </div>

    <div
        class="box"
        *ngFor="let gridBox of grid.boxes; let i = index"
        [(ngGridItem)]="gridBox.config"
    >
        <dot-container-selector
            (change)="propagateGridLayoutChange($event)"
            (remove)="onRemoveContainer(i)"
            [data]="gridBox.containers"
            [multiple]="true"
        >
        </dot-container-selector>
        <div class="box__actions">
            <dot-icon-button-tooltip
                class="box__add-column-class-button"
                icon="more_horiz"
                (click)="addColumnClass(i)"
                tooltipText="Add CSS Class To Box"
            ></dot-icon-button-tooltip>
            <dot-icon-button-tooltip
                tooltipText="Delete"
                icon="close"
                (click)="onRemoveContainer(i)"
            ></dot-icon-button-tooltip>
        </div>
    </div>
</div>

<dot-dialog
    #dialog
    (hide)="showAddClassDialog = false"
    [actions]="dialogActions"
    header="Add Class"
    [(visible)]="showAddClassDialog"
    [width]="300"
>
    <form [formGroup]="form" novalidate>
        <div class="form__group">
            <label for="content-type-form-workflow" class="form__label">Class Names</label>
            <input
                pInputText
                class="box__add-class-text"
                formControlName="classToAdd"
                type="text"
                required
            />
        </div>
    </form>
</dot-dialog>
