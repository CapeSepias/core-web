{"version":3,"sources":["decorators.es6"],"names":[],"mappings":"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","file":"angular2/src/core/decorators/decorators.es6","sourcesContent":["import {\n  ComponentAnnotation,\n  DirectiveAnnotation\n} from '../annotations/annotations';\nimport {ViewAnnotation} from '../annotations/view';\nimport {AncestorAnnotation, ParentAnnotation} from '../annotations/visibility';\nimport {AttributeAnnotation, QueryAnnotation} from '../annotations/di';\nimport {global} from 'angular2/src/facade/lang';\n\nfunction makeDecorator(annotationCls) {\n  return function(...args) {\n    var Reflect = global.Reflect;\n    if (!(Reflect && Reflect.getMetadata)) {\n      throw 'reflect-metadata shim is required when using class decorators';\n    }\n    var annotationInstance = new annotationCls(...args);\n    return function(cls) {\n      var annotations = Reflect.getMetadata('annotations', cls);\n      annotations = annotations || [];\n      annotations.push(annotationInstance);\n      Reflect.defineMetadata('annotations', annotations, cls);\n      return cls;\n    }\n  }\n}\n\nfunction makeParamDecorator(annotationCls) {\n  return function(...args) {\n    var Reflect = global.Reflect;\n    if (!(Reflect && Reflect.getMetadata)) {\n      throw 'reflect-metadata shim is required when using parameter decorators';\n    }\n    var annotationInstance = new annotationCls(...args);\n    return function(cls, unusedKey, index) {\n      var parameters = Reflect.getMetadata('parameters', cls);\n      parameters = parameters || [];\n      // there might be gaps if some in between parameters do not have annotations.\n      // we pad with nulls.\n      while (parameters.length <= index) {\n        parameters.push(null);\n      }\n      parameters[index] = annotationInstance;\n      Reflect.defineMetadata('parameters', parameters, cls);\n      return cls;\n    }\n  }\n}\n\n/* from annotations */\nexport var Component = makeDecorator(ComponentAnnotation);\nexport var Decorator = makeDecorator(DirectiveAnnotation);\n\n/* from view */\nexport var View = makeDecorator(ViewAnnotation);\n\n/* from visibility */\nexport var Ancestor = makeParamDecorator(AncestorAnnotation);\nexport var Parent = makeParamDecorator(ParentAnnotation);\n\n/* from di */\nexport var Attribute = makeParamDecorator(AttributeAnnotation);\nexport var Query = makeParamDecorator(QueryAnnotation);\n"]}