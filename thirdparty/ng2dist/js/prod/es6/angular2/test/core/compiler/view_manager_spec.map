{"version":3,"sources":["view_manager_spec.js"],"names":[],"mappings":"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","file":"angular2/test/core/compiler/view_manager_spec.es6","sourcesContent":["import {\n  AsyncTestCompleter,\n  beforeEach,\n  ddescribe,\n  xdescribe,\n  describe,\n  el,\n  dispatchEvent,\n  expect,\n  iit,\n  inject,\n  beforeEachBindings,\n  it,\n  xit,\n  SpyObject, proxy\n} from 'angular2/test_lib';\nimport {Injector, bind} from 'angular2/di';\nimport {IMPLEMENTS, isBlank, isPresent} from 'angular2/src/facade/lang';\nimport {MapWrapper, ListWrapper, StringMapWrapper} from 'angular2/src/facade/collection';\n\nimport {AppProtoView, AppView, AppViewContainer} from 'angular2/src/core/compiler/view';\nimport {ProtoViewRef, ViewRef, internalView} from 'angular2/src/core/compiler/view_ref';\nimport {ElementRef} from 'angular2/src/core/compiler/element_ref';\nimport {Renderer, RenderViewRef, RenderProtoViewRef, RenderViewContainerRef} from 'angular2/src/render/api';\nimport {ElementBinder} from 'angular2/src/core/compiler/element_binder';\nimport {DirectiveBinding, ElementInjector} from 'angular2/src/core/compiler/element_injector';\nimport {DirectiveMetadataReader} from 'angular2/src/core/compiler/directive_metadata_reader';\nimport {Component} from 'angular2/src/core/annotations_impl/annotations';\nimport {AppViewManager} from 'angular2/src/core/compiler/view_manager';\nimport {AppViewManagerUtils} from 'angular2/src/core/compiler/view_manager_utils';\nimport {AppViewPool} from 'angular2/src/core/compiler/view_pool';\n\nexport function main() {\n  // TODO(tbosch): add missing tests\n\n  describe('AppViewManager', () => {\n    var renderer;\n    var utils;\n    var viewPool;\n    var manager;\n    var reader;\n    var createdViews;\n    var createdRenderViews;\n\n    function wrapPv(protoView:AppProtoView):ProtoViewRef {\n      return new ProtoViewRef(protoView);\n    }\n\n    function wrapView(view:AppView):ViewRef {\n      return new ViewRef(view);\n    }\n\n    function elementRef(parentView, boundElementIndex) {\n      return new ElementRef(parentView, boundElementIndex);\n    }\n\n    function createDirectiveBinding(type) {\n      var meta = reader.read(type);\n      return DirectiveBinding.createFromType(meta.type, meta.annotation);\n    }\n\n    function createEmptyElBinder() {\n      return new ElementBinder(0, null, 0, null, null);\n    }\n\n    function createComponentElBinder(nestedProtoView = null) {\n      var binding = createDirectiveBinding(SomeComponent);\n      var binder = new ElementBinder(0, null, 0, null, binding);\n      binder.nestedProtoView = nestedProtoView;\n      return binder;\n    }\n\n    function createProtoView(binders = null) {\n      if (isBlank(binders)) {\n        binders = [];\n      }\n      var staticChildComponentCount = 0;\n      for (var i = 0; i < binders.length; i++) {\n        if (binders[i].hasStaticComponent()) {\n          staticChildComponentCount++;\n        }\n      }\n      var res = new AppProtoView(new MockProtoViewRef(staticChildComponentCount), null, null, null, null);\n      res.elementBinders = binders;\n      return res;\n    }\n\n    function createElementInjector() {\n      return SpyObject.stub(new SpyElementInjector(), {\n        'isExportingComponent' : false,\n        'isExportingElement' : false,\n        'getEventEmitterAccessors' : [],\n        'getComponent' : null\n      }, {});\n    }\n\n    function createView(pv=null) {\n      if (isBlank(pv)) {\n        pv = createProtoView();\n      }\n      var view = new AppView(renderer, pv, MapWrapper.create());\n      var elementInjectors = ListWrapper.createFixedSize(pv.elementBinders.length);\n      for (var i=0; i<pv.elementBinders.length; i++) {\n        elementInjectors[i] = createElementInjector();\n      }\n      view.init(null,\n        elementInjectors,\n        [],\n        ListWrapper.createFixedSize(pv.elementBinders.length),\n        ListWrapper.createFixedSize(pv.elementBinders.length)\n      );\n      return view;\n    }\n\n    beforeEach( () => {\n      reader = new DirectiveMetadataReader();\n      renderer = new SpyRenderer();\n      utils = new SpyAppViewManagerUtils();\n      viewPool = new SpyAppViewPool();\n      manager = new AppViewManager(viewPool, utils, renderer);\n      createdViews = [];\n      createdRenderViews = [];\n\n      utils.spy('createView').andCallFake( (proto, _a, _b) => {\n        var view = createView(proto);\n        ListWrapper.push(createdViews, view);\n        return view;\n      });\n      utils.spy('attachComponentView').andCallFake( (hostView, elementIndex, childView) => {\n        hostView.componentChildViews[elementIndex] = childView;\n      });\n      utils.spy('attachViewInContainer').andCallFake( (parentView, elementIndex, atIndex, childView) => {\n        var viewContainer = parentView.viewContainers[elementIndex];\n        if (isBlank(viewContainer)) {\n          viewContainer = new AppViewContainer();\n          parentView.viewContainers[elementIndex] = viewContainer;\n        }\n        ListWrapper.insert(viewContainer.views, atIndex, childView);\n      });\n      var createRenderViewRefs = function(renderPvRef) {\n        var res = [];\n        for (var i=0; i<renderPvRef.nestedComponentCount+1; i++) {\n          var renderViewRef = new RenderViewRef();\n          ListWrapper.push(res, renderViewRef);\n          ListWrapper.push(createdRenderViews, renderViewRef);\n        }\n        return res;\n      }\n      renderer.spy('createDynamicComponentView').andCallFake( (_a, _b, childPvRef) => {\n        return createRenderViewRefs(childPvRef);\n      });\n      renderer.spy('createInPlaceHostView').andCallFake( (_a, _b, childPvRef) => {\n        return createRenderViewRefs(childPvRef);\n      });\n      renderer.spy('createViewInContainer').andCallFake( (_a, _b, childPvRef) => {\n        return createRenderViewRefs(childPvRef);\n      });\n    });\n\n    describe('createDynamicComponentView', () => {\n\n      describe('basic functionality', () => {\n        var hostView, componentProtoView;\n        beforeEach( () => {\n          hostView = createView(createProtoView(\n            [createComponentElBinder(null)]\n          ));\n          hostView.render = new RenderViewRef();\n          componentProtoView = createProtoView();\n        });\n\n        it('should create the view', () => {\n          expect(\n              internalView(manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null))\n          ).toBe(createdViews[0]);\n          expect(createdViews[0].proto).toBe(componentProtoView);\n        });\n\n        it('should get the view from the pool', () => {\n          var createdView;\n          viewPool.spy('getView').andCallFake( (protoView) => {\n            createdView = createView(protoView);\n            return createdView;\n          });\n          expect(\n              internalView(manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null))\n          ).toBe(createdView);\n          expect(utils.spy('createView')).not.toHaveBeenCalled();\n        });\n\n        it('should attach the view', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null)\n          expect(utils.spy('attachComponentView')).toHaveBeenCalledWith(hostView, 0, createdViews[0]);\n        });\n\n        it('should hydrate the dynamic component', () => {\n          var injector = new Injector([], null, false);\n          var componentBinding = bind(SomeComponent).toClass(SomeComponent);\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), componentBinding, injector);\n          expect(utils.spy('hydrateDynamicComponentInElementInjector')).toHaveBeenCalledWith(hostView, 0, componentBinding, injector);\n        });\n\n        it('should hydrate the view', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          expect(utils.spy('hydrateComponentView')).toHaveBeenCalledWith(hostView, 0);\n        });\n\n        it('should create and set the render view', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          expect(renderer.spy('createDynamicComponentView')).toHaveBeenCalledWith(hostView.render, 0, componentProtoView.render);\n          expect(createdViews[0].render).toBe(createdRenderViews[0]);\n        });\n\n        it('should set the event dispatcher', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          var cmpView = createdViews[0];\n          expect(renderer.spy('setEventDispatcher')).toHaveBeenCalledWith(cmpView.render, cmpView);\n        });\n      });\n\n      describe('error cases', () => {\n\n        it('should not allow to use non component indices', () => {\n          var hostView = createView(createProtoView(\n            [createEmptyElBinder()]\n          ));\n          var componentProtoView = createProtoView();\n          expect(\n            () => manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null)\n          ).toThrowError('There is no dynamic component directive at element 0');\n        });\n\n        it('should not allow to use static component indices', () => {\n          var hostView = createView(createProtoView(\n            [createComponentElBinder(createProtoView())]\n          ));\n          var componentProtoView = createProtoView();\n          expect(\n            () => manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null)\n          ).toThrowError('There is no dynamic component directive at element 0');\n        });\n\n      });\n\n      describe('recursively destroy dynamic child component views', () => {\n        // TODO\n      });\n\n    });\n\n    describe('static child components', () => {\n\n      describe('recursively create when not cached', () => {\n        var hostView, componentProtoView, nestedProtoView;\n        beforeEach( () => {\n          hostView = createView(createProtoView(\n            [createComponentElBinder(null)]\n          ));\n          hostView.render = new RenderViewRef();\n          nestedProtoView = createProtoView();\n          componentProtoView = createProtoView([\n            createComponentElBinder(nestedProtoView)\n          ]);\n        });\n\n        it('should create the view', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          expect(createdViews[0].proto).toBe(componentProtoView);\n          expect(createdViews[1].proto).toBe(nestedProtoView);\n        });\n\n        it('should hydrate the view', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          expect(utils.spy('hydrateComponentView')).toHaveBeenCalledWith(createdViews[0], 0);\n        });\n\n        it('should set the render view', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          expect(createdViews[1].render).toBe(createdRenderViews[1])\n        });\n\n        it('should set the event dispatcher', () => {\n          manager.createDynamicComponentView(elementRef(wrapView(hostView), 0), wrapPv(componentProtoView), null, null);\n          var cmpView = createdViews[1];\n          expect(renderer.spy('setEventDispatcher')).toHaveBeenCalledWith(cmpView.render, cmpView);\n        });\n      });\n\n      describe('recursively hydrate when getting from from the cache', () => {\n        // TODO(tbosch): implement this\n      });\n\n      describe('recursively dehydrate', () => {\n        // TODO(tbosch): implement this\n      });\n\n    });\n\n    describe('createInPlaceHostView', () => {\n\n      // Note: We don't add tests for recursion or viewpool here as we assume that\n      // this is using the same mechanism as the other methods...\n\n      describe('basic functionality', () => {\n        var parentHostView, parentView, hostProtoView;\n        beforeEach( () => {\n          parentHostView = createView(createProtoView(\n            [createComponentElBinder(null)]\n          ));\n          parentView = createView();\n          utils.attachComponentView(parentHostView, 0, parentView);\n          parentView.render = new RenderViewRef();\n          hostProtoView = createProtoView(\n            [createComponentElBinder(null)]\n          );\n        });\n\n        it('should create the view', () => {\n          expect(\n            internalView(manager.createInPlaceHostView(elementRef(wrapView(parentHostView), 0), null, wrapPv(hostProtoView), null))\n          ).toBe(createdViews[0]);\n          expect(createdViews[0].proto).toBe(hostProtoView);\n        });\n\n        it('should attachAndHydrate the view', () => {\n          var injector = new Injector([], null, false);\n          manager.createInPlaceHostView(elementRef(wrapView(parentHostView), 0), null, wrapPv(hostProtoView), injector);\n          expect(utils.spy('attachAndHydrateInPlaceHostView')).toHaveBeenCalledWith(parentHostView, 0, createdViews[0], injector);\n        });\n\n        it('should create and set the render view', () => {\n          var elementOrSelector = 'someSelector';\n          manager.createInPlaceHostView(elementRef(wrapView(parentHostView), 0), elementOrSelector, wrapPv(hostProtoView), null)\n          expect(renderer.spy('createInPlaceHostView')).toHaveBeenCalledWith(parentView.render, elementOrSelector, hostProtoView.render);\n          expect(createdViews[0].render).toBe(createdRenderViews[0]);\n        });\n\n        it('should set the event dispatcher', () => {\n          manager.createInPlaceHostView(elementRef(wrapView(parentHostView), 0), null, wrapPv(hostProtoView), null);\n          var cmpView = createdViews[0];\n          expect(renderer.spy('setEventDispatcher')).toHaveBeenCalledWith(cmpView.render, cmpView);\n        });\n      });\n\n    });\n\n\n    describe('destroyInPlaceHostView', () => {\n      describe('basic functionality', () => {\n        var parentHostView, parentView, hostProtoView, hostView, hostRenderViewRef;\n        beforeEach( () => {\n          parentHostView = createView(createProtoView(\n            [createComponentElBinder(null)]\n          ));\n          parentView = createView();\n          utils.attachComponentView(parentHostView, 0, parentView);\n          parentView.render = new RenderViewRef();\n          hostProtoView = createProtoView(\n            [createComponentElBinder(null)]\n          );\n          hostView = internalView(manager.createInPlaceHostView(elementRef(wrapView(parentHostView), 0), null, wrapPv(hostProtoView), null));\n          hostRenderViewRef = hostView.render;\n        });\n\n        it('should dehydrate', () => {\n          manager.destroyInPlaceHostView(elementRef(wrapView(parentHostView), 0), wrapView(hostView));\n          expect(utils.spy('detachInPlaceHostView')).toHaveBeenCalledWith(parentView, hostView);\n        });\n\n        it('should detach', () => {\n          manager.destroyInPlaceHostView(elementRef(wrapView(parentHostView), 0), wrapView(hostView));\n          expect(utils.spy('dehydrateView')).toHaveBeenCalledWith(hostView);\n        });\n\n        it('should destroy and clear the render view', () => {\n          manager.destroyInPlaceHostView(elementRef(wrapView(parentHostView), 0), wrapView(hostView));\n          expect(renderer.spy('destroyInPlaceHostView')).toHaveBeenCalledWith(parentView.render, hostRenderViewRef);\n          expect(hostView.render).toBe(null);\n        });\n\n        it('should return the view to the pool', () => {\n          manager.destroyInPlaceHostView(elementRef(wrapView(parentHostView), 0), wrapView(hostView));\n          expect(viewPool.spy('returnView')).toHaveBeenCalledWith(hostView);\n        });\n      });\n\n      describe('recursively destroy inPlaceHostViews', () => {\n        // TODO\n      });\n\n    });\n\n    describe('createViewInContainer', () => {\n\n      describe('basic functionality', () => {\n        var parentView, childProtoView;\n        beforeEach( () => {\n          parentView = createView(createProtoView(\n            [createEmptyElBinder()]\n          ));\n          parentView.render = new RenderViewRef();\n          childProtoView = createProtoView();\n        });\n\n        it('should create a ViewContainerRef if not yet existing', () => {\n          manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null);\n          expect(parentView.viewContainers[0]).toBeTruthy();\n        });\n\n        it('should create the view', () => {\n          expect(\n            internalView(manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null))\n          ).toBe(createdViews[0]);\n          expect(createdViews[0].proto).toBe(childProtoView);\n        });\n\n        it('should attach the view', () => {\n          manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null)\n          expect(utils.spy('attachViewInContainer')).toHaveBeenCalledWith(parentView, 0, 0, createdViews[0]);\n        });\n\n        it('should hydrate the view', () => {\n          var injector = new Injector([], null, false);\n          manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), injector);\n          expect(utils.spy('hydrateViewInContainer')).toHaveBeenCalledWith(parentView, 0, 0, injector);\n        });\n\n        it('should create and set the render view', () => {\n          manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null);\n          expect(renderer.spy('createViewInContainer')).toHaveBeenCalledWith(\n            new RenderViewContainerRef(parentView.render, 0), 0, childProtoView.render);\n          expect(createdViews[0].render).toBe(createdRenderViews[0]);\n        });\n\n        it('should set the event dispatcher', () => {\n          manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null);\n          var childView = createdViews[0];\n          expect(renderer.spy('setEventDispatcher')).toHaveBeenCalledWith(childView.render, childView);\n        });\n\n      });\n    });\n\n    describe('destroyViewInContainer', () => {\n\n      describe('basic functionality', () => {\n        var parentView, childProtoView, childView;\n        beforeEach( () => {\n          parentView = createView(createProtoView(\n            [createEmptyElBinder()]\n          ));\n          parentView.render = new RenderViewRef();\n          childProtoView = createProtoView();\n          childView = internalView(manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null));\n        });\n\n        it('should dehydrate', () => {\n          manager.destroyViewInContainer(elementRef(wrapView(parentView), 0), 0);\n          expect(utils.spy('dehydrateView')).toHaveBeenCalledWith(parentView.viewContainers[0].views[0]);\n        });\n\n        it('should detach', () => {\n          manager.destroyViewInContainer(elementRef(wrapView(parentView), 0), 0);\n          expect(utils.spy('detachViewInContainer')).toHaveBeenCalledWith(parentView, 0, 0);\n        });\n\n        it('should destroy and clear the render view', () => {\n          manager.destroyViewInContainer(elementRef(wrapView(parentView), 0), 0);\n          expect(renderer.spy('destroyViewInContainer')).toHaveBeenCalledWith(new RenderViewContainerRef(parentView.render, 0), 0);\n          expect(childView.render).toBe(null);\n        });\n\n        it('should return the view to the pool', () => {\n          manager.destroyViewInContainer(elementRef(wrapView(parentView), 0), 0);\n          expect(viewPool.spy('returnView')).toHaveBeenCalledWith(childView);\n        });\n      });\n\n      describe('recursively destroy views in ViewContainers', () => {\n        var parentView, childProtoView, childView;\n        beforeEach( () => {\n          parentView = createView(createProtoView(\n            [createEmptyElBinder()]\n          ));\n          parentView.render = new RenderViewRef();\n          childProtoView = createProtoView();\n          childView = internalView(manager.createViewInContainer(elementRef(wrapView(parentView), 0), 0, wrapPv(childProtoView), null));\n        });\n\n        it('should dehydrate', () => {\n          manager.destroyInPlaceHostView(null, wrapView(parentView));\n          expect(utils.spy('dehydrateView')).toHaveBeenCalledWith(parentView.viewContainers[0].views[0]);\n        });\n\n        it('should detach', () => {\n          manager.destroyInPlaceHostView(null, wrapView(parentView));\n          expect(utils.spy('detachViewInContainer')).toHaveBeenCalledWith(parentView, 0, 0);\n        });\n\n        it('should not destroy but clear the render view', () => {\n          manager.destroyInPlaceHostView(null, wrapView(parentView));\n          expect(renderer.spy('destroyViewInContainer')).not.toHaveBeenCalled();\n          expect(childView.render).toBe(null);\n        });\n\n        it('should return the view to the pool', () => {\n          manager.destroyInPlaceHostView(null, wrapView(parentView));\n          expect(viewPool.spy('returnView')).toHaveBeenCalledWith(childView);\n        });\n\n      });\n\n    });\n\n    describe('attachViewInContainer', () => {\n\n    });\n\n    describe('detachViewInContainer', () => {\n\n    });\n\n  });\n}\n\nclass MockProtoViewRef extends RenderProtoViewRef {\n  nestedComponentCount:number;\n  constructor(nestedComponentCount:number) {\n    super();\n    this.nestedComponentCount = nestedComponentCount;\n  }\n}\n\n@Component({ selector: 'someComponent' })\nclass SomeComponent {}\n\n@proxy\n@IMPLEMENTS(Renderer)\nclass SpyRenderer extends SpyObject {\n  constructor(){super(Renderer);}\n  noSuchMethod(m){return super.noSuchMethod(m)}\n}\n\n@proxy\n@IMPLEMENTS(AppViewPool)\nclass SpyAppViewPool extends SpyObject {\n  constructor(){super(AppViewPool);}\n  noSuchMethod(m){return super.noSuchMethod(m)}\n}\n\n@proxy\n@IMPLEMENTS(AppViewManagerUtils)\nclass SpyAppViewManagerUtils extends SpyObject {\n  constructor(){super(AppViewManagerUtils);}\n  noSuchMethod(m){return super.noSuchMethod(m)}\n}\n\n@proxy\n@IMPLEMENTS(ElementInjector)\nclass SpyElementInjector extends SpyObject {\n  constructor(){super(ElementInjector);}\n  noSuchMethod(m){return super.noSuchMethod(m)}\n}\n"]}